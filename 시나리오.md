
# 1. 직원 계량기 보관 
  ##  a.  보관함에서 계량기 보관후 키오스크에 qrcode 표시(1,yid,키오스크시간,보관함정보,라벨도 추가)
    jwt.encode(
    {
      cmd:'OpenToSave'
      yid:1234,
      date:'2018-09-17T06:56:45.000Z',
      data:encryption(
        {
          serial:1.,
          jumper:1,
          pwd:'1234'
          saveDate:'111'
          label:'A3'
        }
      )
     }
     ,'iloveyang')
    
  ##  b.  앱 화면이 고객번호를 입력화면으로 바뀌고 검색하여(출고중비중) 선택한다.
  ##  c.  상세 화면에서 보관완료하기 를 누르면 qrcode 읽기 화면.
  ##  d.  보관이 완료되었습니다. 조회화면 이동
  ##  e.  메인 화면으로 이동
  
# 2. 업체 계량기 찾기
  ##  a. 앱으로 찾기
    a. 앱에서 고객 번호로 신청정보를 조회한다.
    b. 찾기 버튼을 클릭한다.
    c. qrcode 화면을 보여준다. (2,yid,폰시간, 보관함정보)  - 찾으려 열기
    jwt.encode(
    {
      cmd:'OpenToTake'
      yid:1234,
      date:'2018-09-17T06:56:45.000Z',
      data:encryption(
        {
          serial:1.,
          jumper:1,
          pwd:'1234'
          saveDate:'111'
          label:'A3'
        }
      )
     }
     ,'iloveyang')
     
    d. 키오스크에 갖다 된다.
    e. 문이 열린다.
    f. 계량기를 찾고 문을 닫는다.
    
  ##  b.  키오스크에서 비빌번호로 찾기
    
  
# 3.  업체 계량기 반품(보관)
  ##  a. 키오스에서 반품으로 진행한다.

# 4. 직원 계량기 찾기
  ##  a. 키오스크에서 찾기 진행한다.
  
# 5. 데이타 동기화
  접수(A)/  출고준비(B)/  보관/  완료
  ##  0. 키오스크 관리자 메인화면은 qrcode 를 보여 언제든지 동기화 가능하도록(0, yid,키오스크시간,보관함정보) 보관함
    jwt.encode(
    {
      cmd:'SaveToData'
      yid:1234,
      date:'2018-09-17T06:56:45.000Z',
      data:보관함정보
     }
     ,'iloveyang')
  ##  1.  thingsSq 검색후 비워있으면 완료로 변경, 보관중이면 서비스를 보관으로 변경
  ##  2.  앱으로 시간동기화 (3, 서버시간)
    jwt.encode(
    {
      cmd:'SyncDate'
      yid:1234,
      date:'2018-09-17T06:56:45.000Z',
      
     }
     ,'iloveyang')
     
# 6. 핸드폰이 키오스크로부터 qr코드 인식한 경우
  post 방식으로   /v1/QrData
  {
    data:읽은 qr코드데이타()
  }
  ##  1.  직원이 계량기 보관할 경우 
  {   
      cmd:'OpenToSave' // 직원 보관일 영우
      yid:1234,
      date:'2018-09-17T06:56:45.000Z',
      data:{
          serial:1.,
          jumper:1,
          pwd:'1234'
          saveDate:'111'
          label:'A3',
          thingsSq:'1234'
          
        }
  }
   ==>
  /v1/Powermeter/OpenToSave/:thingsSq put 방식으로 요청
  {
   serial:1.,
          jumper:1,
          pwd:'1234'
          saveDate:'111'
          label:'A3',
          thingsSq:'1234'
  }
  ##  2.  직원 메인 페이지에서 보여지는 보관함동기화
  
  {
      cmd:'SaveToData' //보관함 데이타 동기화하기
      yid:1234,
      date:'2018-09-17T06:56:45.000Z',
      data:보관함정보()
  }
  ==>
  /v1/SyncData/:yid post 방식으로 요청
  {
    data:보관함 정보
  }
  
  
# 7.  키오스크가 핸드폰으로부터  qr코드 읽는 경우

  qr데이타를 암호화를 해서 이미지를 만들어야 한다.
  
  /v1/Encrypt post 요청
  {
    data:암호화값
  }
  ##  a.  시간데이타를 동기화
    
    {
      cmd:'SyncDate'
      yid:1234,
      date:'2018-09-17T06:56:45.000Z',
     } 요청 
     
     이미지를 /v1/QrImage/:data 로만듬
     
    
  ##  b.  사업자가 계량기를 찾을 경우
  
  {
      cmd:'OpenToTake'
      yid:1234,
      date:'2018-09-17T06:56:45.000Z',
      data:
        {
          serial:1.,
          jumper:1,
          pwd:'1234'
        }
      
     }
     요청 
     이미지를 /v1/QrImage/:data 로만듬
  
  
    
